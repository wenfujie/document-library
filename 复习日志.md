## 2021.3.2
### js基础
  - 《闭包》
  含义：
  在函数a中返回b方法，b有使用到a中的变量。
  这样做可以让a中的变量在内存持久化。
  注意事项：
  易造成内存溢出，需手动注销闭包方法。使用过程需注意this指向。
  应用场景：
  构造函数、局部变量、单例模式、函数柯里化

  - 《函数式编程》
  含义：
  将业务代码抽象为一个个业务函数，最后将多个函数串联实现最终编码。
  概念
  函数柯里化：将接受多个入参的函数，转化为接受单个入参的函数（闭包）
  纯函数：传入固定参数，返回值不会变化的函数
  高阶函数：函数接受的参数类型为函数，或函数范围值为一个函数

  - 《防抖与节流》
  含义：
  防抖：短时间内多次触发函数，只取最后一次执行。
  节流：在一定的时间内，确保函数只会触发一次。
  实现：可复述实现逻辑

  - 《数据类型判断》
  typeof可判断的类型：number,string,boolean,object,function（忘记null,undefined）
  instanceof: [] instanceof Array => true(缺点：修改实例的原型后，会导致判断不准确)
  (漏掉：[] instanceof Object 同样返回 true)
  Object.property.toString.call(arr) 返回：'[object Array]'
  该种形式几乎可判断所有类型

  - 《数组扁平化》
  [1,[2,[3]]].flat(Infinity)
  (遗漏：递归计算没手写出来)

  - 《对象拷贝》
  浅拷贝：=，Object.assign(仅深拷贝第一层，更深层是浅拷贝)
  深拷贝：
  1.JSON.parse(JSON.stringify(obj))，缺点是null、
  undefined、function会消失。
  2.递归深拷贝
  回答问题：浅拷贝还有{...obj}，null并不会消失，递归深拷贝没
  写出来

  - 《原型和原型链》
  含义：可以通过构造函数来创建实例，构造函数的property属性指向
  实例的原型，实例的__proto__属性也指向原型，实例会继承原型上属性和方法
  当访问实例上的属性时，会先在实例本身上去查找，若找不到会根据原型链
  找到实例的原型并在原型查找该属性，若还是找不到，则继续在原型的原型
  上去查找，直到找到Object构造函数，他的原型是null，最后结束查找，这一条查找的
  链路就是原型链。
  有哪些继承方法：
  1.创建构造函数的实例
  2.两个构造函数间继承
  3.es6 class 的 extends
  回答问题：没回答出【原型链继承】【借用构造函数继承】【组合继承】
  【原型式继承】【寄生式继承】【寄生组合式继承】

  - 《构造函数和类》

## 2021.3.3
### Vue相关
- 《双向绑定》
  原理：通过Obejct.defineProperty方法实现数据劫持，并结合发布者订阅者模式，在数据get时为属性添加watch，在数据set时，触发数据的watch回调更新视图。

  回答存在问题：最好能结合vue3的proxy实现方案来说。

- 《依赖收集》
  
  回答存在问题：未能回答

- 《虚拟节点》
  什么是虚拟节点？作用？

  将DOM树抽象为js对象，用对象的属性来表示真实dom的特性。vue中，试图改变时，会生成新的VNode，然后比对新、旧VNode的差异，以打补丁的形式来更新视图。这样做的好处是，不会频繁更新视图，最大限度复用元素来减少元素渲染，加快渲染速度。

  新、旧VNode是如何比较的？

  首先会比较是否是sameVNode，sameVnode比对规则：
  1. 标签名称是否相同；
  2. VNode.data属性是否相同；
  3. key值是否相同；
  4. 如果标签名是input额外会比较type属性是否相同；
   
  是sameVnode则会使用diff算法比较细节差异，diff比对规则：
  1. 节点最深层往浅层并且从左往右比较；
  2. 若新旧Vnode都没有子元素，只要更新文本；
  3. 若新Vnode有子元素旧Vnode无子元素，将新Vnode子元素更新到旧节点上；
  4. 若新Vnode无子元素旧Vnode有子元素，删除旧节点上的子元素；

- 《异步更新nextTick》
  
  vue为什么是异步更新？

  异步更新可以避免视图频繁触发渲染。

  nextTick原理？

  说不出来

- 《vue和react对比》
  
  相同：
    1. 响应式组件
    2. 核心库与路由库、状态管理库剥离

  区别：
    1. 模板
    2. 维护
    3. 渲染机制，vue自动比对视图差异渲染，react重新渲染整个组件，需设置pureComponent修改渲染机制
    4. 脚手架、router、状态管理

  使用场景：
    1. vue使用template模板，更为直观，且文档完善学习门槛较低。缺点是运行时错误不好排查，组件不好测试和维护。适合中小型项目
    2. react使用jsx语法，具有更高的测试性。适合大型项目。

  回答存在问题：思考时间长

- 《vue中key的作用》
  
  key的作用？

  更高效的渲染dom。vue中使用Vnode来更新视图，当视图变化时，生成新的Vnode，使用diff算法比较新旧Vnode差异，用打补丁的方式来更新视图。key可以辅助diff算法判断新旧Vnode是否是sameVnode，并且帮助diff算法判断要删除的节点、要插入节点具体位置等，从而更高效的渲染dom。

  为什么不能使用index作为key？

  因为使用index作为key，在删除dom的时候，被删除dom后面的元素的key值会发生变化，sameVnode无法配对，导致本身能复用的元素重新渲染。